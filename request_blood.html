<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="assets/css/common/blood_donation.css">

</head>

<body bgcolor="gray">
    <h1 class="heading"> Blood Request - Donor Information</h1>

    <div class="form-style-2">

        <label for="fullName">
        <span> Full Name </span>
        <input type="text" class="input-field" id="fullName" name="fullName" maxlength="35" disabled />
      </label>

        <label for="bloodGroup">
        <span> Blood Group</span>
		<select id="bloodGroup" name="bloodGroup" disabled>
			<option value="select">Select</option>
			<option value="O-">O-</option>
			<option value="O+">O+</option>
			<option value="A-">A-</option>
			<option value="A+">A+</option>
			<option value="B-">B-</option>
			<option value="B+">B+</option>
			<option value="AB-">AB-</option>
			<option value="AB+">AB+</option>	  
		</select>        
      </label>
        <label>
        <span>Age</span>
        <input type="text" id="age" class="mobile-number" name="age" disabled/>
      </label>
        <label for="gender">
			<span>Gender</span>
			<label id="gender" name="gender">
					  
			</label>
        </label>
        <label for="country">
			<span>Country</span>
			<label id="country" name="country">
					  
			</label>
        </label>

        <label for="state">
			<span>State</span>
			<label id="state" name="state">
				
			</label>
        </label>
        <label for="district">
			<span>District</span>
			<label id="district" name="district">
				
			</label>
        </label>
        <label for="city">
			<span>City</span>
			<label id="city" name="city">
				
			</label>
        </label>
        <label>
        <span>Mobile Number </span>
        <input type="text" id="mobile" class="mobile-number" name="phone" maxlength="10" disabled />
      </label>

        <label for="email">
        <span> Email</span>
        <input type="email" id="email" class="input-field" name="email" disabled />

      </label>
        <button class="register-btn" onclick="bloodReq();">Request For Blood</button>
        <button class="register-btn" onclick="goToOptions();">Go To Options</button>

    </div>

    <script>
        if (null != localStorage.getItem("strDonors")) {
            var retrievedDonors = localStorage.getItem("strDonors");
            var arrRetrievedDonors = JSON.parse(retrievedDonors);
            var urlParams = new URLSearchParams(window.location.search);
            var dataId = urlParams.get('did');

            var objData = arrRetrievedDonors[dataId];
            console.log(objData);
            document.getElementById('fullName').value = objData.fullName;
            document.getElementById('bloodGroup').value = objData.bloodGroup;
            document.getElementById('age').value = objData.age;
            document.getElementById('gender').innerHTML = objData.gender;
            document.getElementById('country').innerHTML = objData.country;
            document.getElementById('state').innerHTML = objData.state;
            document.getElementById('district').innerHTML = objData.district;
            document.getElementById('city').innerHTML = objData.city;
            document.getElementById('mobile').value = objData.mobile;
            document.getElementById('email').value = objData.email;
            //document.getElementById('fullName').value = objData.fname;	
        }

        function bloodReq() {

            var nav = confirm("Are you really want to raise a request for blood?");
            if (nav == true) {
                alert('Donor found. Contact to donor.');
                location.href = "options.html";
            } else {
                return false;
            }

        }


        function goToOptions() {
            location.href = "options.html";
        }
    </script>

</body>

</html>